判断题目类型的逻辑

爬虫返回stem，如果找到og都算选择题



现在呢 我有一个question，是字典的形式，大概是这样子





#### 判断题目类型的方法

1. ~~选择题：stem中包含og~~
2. ~~填空题：单p，包含bk标签，type="underline"~~
3. ~~判断题：单p，包含bk标签，type="bracket"~~
4. 操作题：多p，无bk标签
5. 简答题：单p，无bk标签
6. 综合题：多p，多个bk标签

首先判断选择题，如果有og，直接返回选择题，接下来判断p的数量，如果是单p，观察有无bk标签以及bk标签的数量，否则是多p，有无bk标签。

下面列举一些题目进行测试：

```
选择题：3792630315352064
填空题：3784095190859776
判断题：3789504265297920
操作题：3784182477660160
简答题：3783987290005504
综合题：3762629476663296
```





#### 自动打标签

typeId：题型

tagIds、tagNames：知识点同步题

difficulty：难度（精度问题如何解决）

简单：0.945

较易：0.85

一般：0.65

较难：0.4

困难：0.15

catalogIds、catalogs：章节目录

knowledgePointIds、knowledgePointNames：知识点

向指定链接发送PUT请求，这里面有几个参数

1. 题目类型：共有7个类型。200101，200102，2002，2003，2004，2005，2006。
2. 难度：共有5个分类。简单、较易、一般、较难、困难。
3. 试题分类：共有5个分类，tagid=1
4. 知识点：59022
5. 章节id：210139,42854,44233,44306,44772,43424,43549,44138,43657,188166



![image-20241125200123349](C:\Users\86187\AppData\Roaming\Typora\typora-user-images\image-20241125200123349.png)



注意：这里需要有一个是否包含答案的判断，如果包含答案的话，如果不包含的话还需要一个函数填入答案

我做了一个自动解析的程序，程序首先从学科网上拉去我要解析的题目以及答案，然后封装到prompt去调grok-beta模型获得该题目的解析，同时我还在promat中限制了其给出解析的格式，但是无论我如何设置总会有些偏差，其输出的内容，就是没有办法和我的标准格式一模一样，于是我想到一个办法，就是对于同一个题型的题目，如选择题或者填空题。以选择题为例我首先将其题干、选项、以及答案填入数据库的一个字段中，然后我在获得grok-beta返回的解析内容之后将其也放入数据库的一个字段中，接着我手工对其修改后在放入数据库的一个字段中。我的想法是做一个模型，该模型可以对解析进行自动修正，训练数据为之前的很多题干、选项、答案，grok-beta返回的解析以及修正后可用的解析。



数据集获取方法：

首先去查历史记录，然后获得一些已经做完的题号，从中选择出选择题，然后调用get_detail，以及gpt，得到的数据即可放入数据库。注意目前只选初中的。





数据库字段：索引、qid、stem、options、answer、original、final

---

自动审核算法：

基于学科网每天的任务要求，我们目前需要开发一款基于人工智能的审核，本质上就是人工智能去审核这道题的解析以及打标工作是否正确。

首先，审核需要先领取题目。每个人上限10道题目。（已经实现）

然后，循环点击每一道题目，然后爬虫获得关键信息（题干，选项，答案，打标信息），并交给ai，让其判断是否出现问题。

根据返回结果，进行修正。

最后，一键提交。

----

匹配算法：

需要根据题目中的关键词，匹配相应的知识点与章节。（数据库，or其他高效，总之匹配速度要快）

如何由题目生成，可以去查询的原子名词？？？

例出现IP，知识点应该问网络基础知识，选中所有包含IP地址的章节

同时，检查是否出现一本书两个及其以上知识点。



现在开始写自动审核算法：

自动审核算法第一步，

---

##### 打标签思路



